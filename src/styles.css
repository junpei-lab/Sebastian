@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --sebastian-bg: #050506;
    --sebastian-pattern: repeating-linear-gradient(
        -45deg,
        rgba(255, 255, 255, 0.02) 0,
        rgba(255, 255, 255, 0.02) 8px,
        transparent 8px,
        transparent 16px
      ),
      var(--sebastian-bg);
    font-family: "Cormorant Garamond", "Noto Sans JP", system-ui, -apple-system,
      BlinkMacSystemFont, serif;
    color: #f7f3ea;
    background: var(--sebastian-pattern);
  }

  html,
  body,
  #root {
    min-height: 100vh;
  }

  body {
    @apply m-0 text-[#f7f3ea];
    background: var(--sebastian-pattern);
    background-attachment: fixed;
  }

  button,
  input,
  textarea {
    font: inherit;
  }
}

@layer components {
  .container {
    @apply max-w-[880px] mx-auto px-4 pt-8 pb-10;
  }

  header {
    @apply text-center mb-5;
  }

  header h1 {
    @apply font-medium tracking-[0.15em] uppercase text-[1.8rem];
  }

  .subtitle {
    @apply text-[#c9c9c9] mt-1 text-sm;
  }

  .toolbar {
    @apply flex justify-end gap-2 mb-5 flex-wrap;
  }

  .add-button {
    @apply inline-flex items-center gap-1.5 text-sm uppercase tracking-[0.08em] rounded-full border border-transparent bg-[#f7f3ea] text-[#111218] px-4 py-2 shadow transition-shadow;
  }

  .add-button:hover:not(:disabled) {
    @apply shadow-lg;
  }

  .add-button:disabled {
    @apply opacity-45 cursor-not-allowed;
  }

  .floating-add {
    @apply fixed left-1/2 -translate-x-1/2 bottom-6 z-20 px-8 py-3 shadow-2xl;
  }

  .import-button {
    @apply text-[0.72rem] tracking-[0.2em] border border-white/30 bg-transparent text-[#f7f3ea] px-4 py-2 rounded-full transition-colors;
  }

  .import-button:hover {
    @apply border-white/70;
  }

  .card {
    @apply rounded-[12px] border border-white/10 shadow-[0_12px_30px_rgba(0,0,0,0.35)] p-4 bg-gradient-to-br from-[#0b0d12] to-[#111319];
  }

  .form-row {
    @apply flex flex-col gap-1 mb-2.5 text-sm uppercase tracking-[0.08em];
  }

  .form-row span {
    @apply text-[#d1d1d1];
  }

  .import-card {
    @apply space-y-3;
  }

  .import-hint {
    @apply text-xs text-[#b8b8b8] tracking-wide;
  }

  .import-hint code {
    @apply text-[#f7f3ea] bg-white/10 px-1 rounded;
  }

  input[type="text"],
  input[type="time"],
  input[type="url"],
  input[type="number"] {
    @apply rounded-lg border border-white/15 bg-black/70 px-3 py-2 text-base text-[#f7f3ea] transition-colors focus:outline-none focus:border-[#c8a96c] focus:bg-black/80;
  }

  input::placeholder {
    @apply text-white/40;
  }

  button {
    @apply uppercase tracking-[0.08em] border border-transparent rounded-full px-4 py-2 bg-[#f7f3ea] text-[#111218] transition-shadow;
  }

  button:hover:not(:disabled) {
    @apply shadow-lg;
  }

  button:disabled {
    @apply opacity-45 cursor-not-allowed;
  }

  .form-submit-btn {
    @apply flex justify-center px-8 py-2.5 mt-3 mx-auto;
  }

  .weekday-grid {
    @apply grid grid-cols-7 gap-1.5 mb-2;
  }

  .weekday {
    @apply rounded-xl border border-white/15 bg-transparent text-[#f7f3ea] py-1.5 text-center transition-colors;
  }

  .weekday.active {
    @apply bg-[#f7f3ea] text-[#0b0d12] border-transparent;
  }

  .error-text {
    @apply text-[#f87171] text-sm;
  }

  .ghost {
    @apply bg-transparent border border-white/40 text-[#f7f3ea];
  }

  .ghost:hover {
    @apply border-white/80;
  }

  .danger {
    @apply bg-gradient-to-br from-[#2a0f0f] to-[#531919] text-[#fdd7d7] border-white/10;
  }

  .alarm-list {
    @apply grid gap-4 grid-cols-1 md:grid-cols-2;
  }

  .alarm-card {
    @apply flex flex-col gap-2 cursor-pointer outline-none select-none focus-visible:ring-2 focus-visible:ring-[#c8a96c99];
  }

  .alarm-card-inner {
    @apply flex flex-col gap-2;
  }

  .alarm-time-row {
    @apply flex items-start justify-between gap-4;
  }

  .alarm-time {
    @apply text-[2.2rem] tracking-[0.08em] m-0;
  }

  .alarm-relative {
    @apply mt-1 flex items-center gap-1.5 text-sm text-[#b8b8b8] tracking-wide;
  }

  .bell-icon {
    @apply text-base;
  }

  .alarm-switch {
    @apply w-12 h-6 rounded-full border border-white/30 relative;
  }

  .alarm-switch::after {
    content: "";
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    border-radius: 999px;
    background: #f7f3ea;
    transition: left 0.2s ease, background 0.2s ease;
  }

  .alarm-switch.active {
    @apply border-white/60 bg-white/10;
  }

  .alarm-switch.active::after {
    left: 26px;
    background: #0b0d12;
  }

  .alarm-title-row {
    @apply flex items-baseline gap-1.5 mt-1;
  }

  .alarm-section-label {
    @apply text-[0.7rem] tracking-[0.12em] uppercase text-[#c8c8c8];
  }

  .alarm-count {
    @apply text-[0.7rem] text-[#8f8f8f];
  }

  .alarm-title-text {
    @apply mt-1 text-base tracking-wide text-[#f7f3ea];
  }

  .alarm-repeat-row {
    @apply flex items-center gap-2 mt-1 text-[#c8c8c8];
  }

  .alarm-repeat-label {
    @apply text-[0.75rem] tracking-[0.12em];
  }

  .form-repeat-row {
    @apply mt-0 justify-between w-full gap-3;
  }

  .repeat-toggle-switch {
    @apply cursor-pointer outline-none shrink-0;
  }

  .repeat-toggle-switch:focus-visible {
    @apply ring-2 ring-[#c8a96c99];
  }

  .time-picker {
    @apply inline-flex items-center justify-center gap-3 rounded-xl border border-white/15 bg-black/50 px-3 py-2 mt-1;
    width: fit-content;
    max-width: 100%;
  }

  .time-column {
    @apply flex flex-col items-center gap-1 w-[84px];
  }

  .time-arrow {
    @apply w-7 h-6 flex items-center justify-center rounded-md border border-transparent bg-transparent text-xs text-[#e6e6e6] transition-colors;
    text-transform: none;
  }

  .time-arrow:hover {
    @apply border-white/30 text-white bg-white/5;
  }

  .time-value {
    @apply w-full text-[1.6rem] font-semibold tracking-[0.08em] leading-none px-3 py-2 rounded-lg bg-black/60 min-w-[56px] text-center text-[#f7f3ea] outline-none;
  }

  .time-value:focus-visible {
    @apply ring-2 ring-[#c8a96c99];
  }

  .time-separator {
    @apply text-2xl text-[#d1d1d1] px-1;
  }

  .weekday-ribbon {
    @apply flex justify-between gap-1.5 mt-1;
  }

  .weekday-chip {
    @apply flex-1 text-center text-sm tracking-[0.18em] text-[#6d6d6d] border-b border-white/15 py-1;
  }

  .weekday-chip.active {
    @apply text-[#f7f3ea] border-[#c8a96c];
  }

  .alarm-actions {
    @apply flex gap-2 flex-wrap mt-2 justify-end;
  }

  .empty {
    @apply text-center text-[#979797];
  }

  .alarm-dialog-backdrop,
  .modal-backdrop {
    @apply fixed inset-0 bg-black/70 flex items-center justify-center p-6 backdrop-blur-sm z-40;
  }

  .alarm-dialog {
    @apply max-w-[480px] text-center border border-white/15 bg-gradient-to-br from-[#0b0d12] to-[#111319] rounded-2xl p-6;
  }

  .dialog-label {
    @apply text-[#c8a96c] tracking-[0.2em] uppercase font-semibold;
  }

  .dialog-title {
    @apply text-2xl mt-2;
  }

  .dialog-time {
    @apply text-base tracking-wide mt-2 mb-4;
  }

  .dialog-actions {
    @apply flex justify-center gap-3;
  }

  .modal-panel {
    @apply relative w-[min(520px,92vw)];
  }

  .modal-panel .card {
    @apply mb-0;
  }

  .icon-button {
    @apply absolute top-3 right-3 w-8 h-8 rounded-full border border-white/40 bg-transparent text-[#f7f3ea] flex items-center justify-center;
  }

  .icon-button:hover {
    @apply border-white;
  }

  .json-textarea {
    @apply w-full min-h-[220px] rounded-2xl border border-white/15 bg-black/70 px-3 py-2 text-sm leading-relaxed text-[#f7f3ea] resize-y;
  }

  .json-textarea:focus-visible {
    @apply outline-none ring-2 ring-[#c8a96c99];
  }

  .import-checkbox {
    @apply flex items-center gap-2 text-xs text-[#d1d1d1];
  }

  .import-checkbox input {
    @apply w-4 h-4 accent-[#c8a96c];
  }
}
